# using ディレクティブは namespace の内側に入れる（趣味）

この章は必須ではない  

## やりたいこと

👇 RMU のソースは以下のような作法になっているから...  

```cs
using DragonFruit.Eggplant.Fig;

namespace Apple.Banana.Cherry
{
    // ここにコードがある
}
```

👇 以下のように書き換える  

```cs
namespace Apple.Banana.Cherry
{
#if UNITY_EDITOR
    using DragonFruit.Eggplant.Fig;

    // ここにコードがある
#end
}
```

## やりかた

👇 Visual Studio の `[ツール] - [オプション] - [テキスト エディター] - [C#] - [コードスタイル] - [全般] - ['using' の基本設定:]` へ進む  

![using ディレクティブは namespace の内側に入れる](../img/202305/202305__rmu__21-1834--using-directive-o1o0.png)  

👆 `namespace 内` にする  

👇 このあと　ソースコードの豆電球をクリック  

![誤って配置された using ディレクティブを移動します](../img/202305/202305__rmu__21-1846--refactoring-using-directive-o1o0.png)  

しかし、１ファイルずつ　やるのも大変だ。  

## ファイル複数選択

![アンロード・プロジェクト](../img/202305/202305__rmu__21-1929--unload-project-o1o0.png)  

👆 関係ないプロジェクトをアンロード  
（リファクタリングのための事前調査がソリューション全体に及んで前処理時間が膨大にかかるので）

![ファイル複数選択](../img/202305/202305__rmu__21-1902--select-files-o1o0.png)  

👆 ファイルを複数選択（Shiftキーを押しながら、選択したいファイルの先頭と末尾をクリック）  

* 最初は１つだけ選び、慣れてきたら少しずつ増やしていけば間違いは少ない  

![コードのクリーンアップ](../img/202305/202305__rmu__21-1905--code-cleanup-o2o0.png)  

👆 右クリックして `[コードのクリーンアップ] - [コード クリーンアップの構成]` をクリック  

![構成](../img/202305/202305__rmu__21-1908--code-cleanup-using-directive-o2o0.png)  

👆 下の欄から `using ディレクティブの配置の基本設定を適用する` を選択して `∧` ボタンをクリック  

* 今やりたいことだけを選べば充分だ
* 慣れないうちは、 `不要な Import または using の削除` は外す方がよい。元に戻す操作がないから

![コード・クリーンアップの実行](../img/202305/202305__rmu__21-1911--do-code-cleanup-o1o0.png)  

👆 右クリックして `[コードのクリーンアップ] - [コード クリーンアップ（プロファイル 1）の実行]` をクリック  
